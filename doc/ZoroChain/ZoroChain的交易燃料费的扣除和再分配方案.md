## ZoroChain交易燃料费的扣除和再分配方案
### 交易燃料费的说明
* 在交易上链时，会运行该交易所携带的智能合约脚本，在此过程中需要根据脚本的运行代价支付对应的燃料费
* 一般来说，交易的发起者需要支付这笔交易所需要的燃料费，在向节点发送交易时，发起者需要设定愿意为这笔交易支付的金额
* Zoro会延续NEO的机制，为每笔交易提供10个BCP的免费限额，发起者只需要支付超出部分的燃料费
* 和NEO一样，可以通过调用`invokescript`来预执行交易的脚本，在返回值里获得该笔交易需要消耗的燃料费
* 交易发起者设置的愿意支付的金额，不能小于所需要的燃料费，否则该交易上链时，脚本将执行失败，并且设定的支付费用也会被扣除
* 交易发起者可以设置大于所需燃料费的支付金额，当链上的待处理交易数量较多时，会根据交易的支付金额进行排序，支付金额高的交易将优先上链
* 类似于比特币的挖矿奖励机制，Zoro在出块时，会将块内所有交易的支付金额一并转给本次出块的共识节点（议长节点）作为奖励
* 应用链上的交易，除了交易发起者支付燃料费之外，还有一种从应用链的燃料费池中扣除费用的机制

### 交易燃料费的验证
* 当节点接收到一个新发起的交易时，会对该交易进行验证
* 如果该交易设定了支付的燃料费金额，会检查该账户中是否有对应的余额，如果余额不足会拒绝接受该交易
  * 因为没有使用UTXO模型，我们在交易的属性数据里存放发起人的验签脚本
  * 这个验签脚本可以作为账户地址，用来检查发起人的BCP账户里是否有足够的金额支付燃料费

### 交易燃料费的扣除
* 在出块时，会依次处理这个块内的所有交易
* 先从交易发起人庄户扣除该交易的燃料费，再运行该交易的智能合约

### 交易燃料费的再分配
* 在议长节点提交共识提案时，会生成一个MinerTransaction交易作为新区块的第一个交易
* 在这个MinerTrasaction的交易里，会记录新区块里所有交易支付的燃料费总额，以及议长节点的账户地址
* 在这个块上链时，会先处理MinerTrasaction，将燃料费总额转账给议长节点